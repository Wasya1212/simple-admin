$clipping-color: $primary-color
$clipping-height: 7rem

body
  background-color: $primary-color

=underline($color, $height)
  content: ''
  display: inline-block
  position: absolute
  left: 20%
  bottom: -1rem
  width: 80%
  height: $height
  background-color: $color

.intro
  position: relative
  background-color: $primary-bg-color
  color: $primary-text-color
  padding-bottom: $clipping-height !important
  min-height: 500px
  background-image: url('../assets/435503_900.png')
  background-blend-mode: overlay
  background-size: cover
  background-position: center
  background-repeat: no-repeat
  overflow: hidden
  box-sizing: border-box
  &__title
    max-width: 350px
    display: -webkit-flex
    display: -ms-flex
    display: flex
    flex-direction: column
    margin: 3rem 10%
    .underline
      &::after
        +underline($primary-color, 7px)
    h1
      position: relative
      display: inline
      text-transform: uppercase
      cursor: default
  &__main-word
    font-size: 100px
    margin: 0
    padding: 0
    margin-bottom: 2rem
  &__secondary-word
    font-size: 50px
    margin: 0
    padding: 0
    align-self: flex-end
  &__triangle
    fill: $clipping-color
  &__clipping
    position: absolute
    left: 0
    bottom: 0
    width: 100%
    height: $clipping-height
    font-size: 0
    line-height: 0
    z-index: 100
    svg
      width: 100%
      height: 100%
  .app-description
    &__decore-text
      animation-direction: alternate-reverse
      animation-duration: 60s
      animation-iteration-count: infinite
      animation-timing-function: linear
      text-transform: uppercase
      transform: rotate(-20deg)
      display: inline
      opacity: .25
      font-weight: bold
      position: absolute
      user-select: none
      cursor: default
      &:nth-child(2n)
        animation-name: moveRight
        font-size: 35px
        top: 60%
      &:nth-child(2n+1)
        animation-name: moveLeft
        font-size: 65px
        top: 20%

@keyframes moveRight
  0%
    transform: rotate(-20deg)
  50%
    transform: rotate(-20deg) translateX(50%)
  100%
    transform: rotate(-20deg) translateX(-50%)

@keyframes moveLeft
  0%
    transform: rotate(-20deg)
  50%
    transform: rotate(-20deg) translateX(-50%)
  100%
    transform: rotate(-20deg) translateX(50%)

.preview
  position: relative
  &>*
    position: relative
    display: -webkit-flex
    display: -ms-flex
    display: flex
    flex-wrap: nowrap
    flex-direction: row
    justify-content: space-around
    align-items: flex-start
    width: 100%
    margin-bottom: 2rem
    .description
      max-width: 650px
      &__title
        position: relative
        text-transform: uppercase
        font-size: 75px
        font-weight: bold
        color: $primary-text-color
        text-shadow: 2px 2px 3px lighten($primary-text-color, 40%)
        cursor: default
        &::after
          +underline($secondary-color, 5px)
      &__text
        position: relative
        color: $secondary-text-color
        background-color: $secondary-bg-color
        padding: 2rem 3rem 2rem 4rem
        font-size: 20px
        line-height: 32px
    .video-container
      position: relative
      margin: 2rem
      width: 100%
      background-repeat: no-repeat
      background-size: contain
      background-position: center bottom
      transition: transform $animation-duration ease-in-out
      -webkit-transform-style: preserve-3d
      transform-style: preserve-3d
      &::before
        content: ''
        display: inline-block
      video
        position: absolute
        height: auto
  &__imac
    .description
    .video-container
      max-width: 900px
      background-image: url('../assets/imac.png')
      &:hover
        transform: rotate3d(-5, 35, 2, 15deg)
      &::before
        padding-top: 65%
      video
        width: 73%
        top: 5%
        left: 13.5%
  &__ipad
    flex-direction: row-reverse
    .description
    .video-container
      max-width: 550px
      background-image: url('../assets/ipad-mockup.png')
      &:hover
        transform: rotate3d(-10, 55, 2, -15deg)
      &::before
        padding-top: 65%
      video
        width: 82%
        top: 4%
        left: 9%
  &__iphone
    .description
    .video-container
      max-width: 350px
      background-image: url('../assets/iphone.png')
      &:hover
        transform: rotate3d(-10, 35, 2, 15deg)
      &::before
        padding-top: 150%
      video
        width: 65.5%
        top: 12%
        left: 17.5%

.setup
  &__video-container
    position: relative
    max-width: 100%
    width: 750px
    margin: 0 auto
  &__video
    position: relative
    display: inline-block
    width: 100%
    height: auto
  video
    width: 100%
    height: auto

.used-in
  background-color: $secondary-bg-color
  &__title
    display: inline-block
    position: relative
    color: $secondary-text-color
    font-size: 75px
    margin: 0
    margin-bottom: 3rem
    text-shadow: 2px 2px 3px #303030
    padding-right: 3rem
    &::after
      +underline($primary-color, 7px)
  &__projects
    display: -webkit-flex
    display: -ms-flex
    display: flex
    justify-content: space-around
    align-items: center
    flex-direction: row
    flex-wrap: wrap
    .project
      margin: 0 1rem
      position: relative
      min-height: 300px
      width: 30%
      overflow: hidden
      &::before
        content: ''
        display: inline-block
        padding-top: 75%
      &:hover
        .project__title
          width: 100%
          &::after
            opacity: 1
        .project__preview
          filter: blur(5px)
          &::after
            opacity: .8
        .project__description
          transform: none
      &__title
        position: absolute
        left: 0
        top: 1.5rem
        z-index: 10
        width: 80%
        color: $primary-text-color
        background-color: $primary-bg-color
        padding: 1rem 1rem 1rem 2rem
        box-sizing: border-box
        transition: $animation-duration all ease-in-out
        box-shadow: 0 0 1px rgba(0, 0, 0, 0.5)
        &::after
          content: ''
          display: inline-block
          width: 25px
          height: 25px
          background-color: transparent
          background-image: url('../assets/icons/go-to.png')
          background-repeat: no-repeat
          background-size: contain
          background-position: center
          margin-left: 1ch
          transform: translateY(25%)
          transition: $animation-duration opacity ease-in-out
          opacity: 0
      &__preview
        position: absolute
        width: 100%
        height: 100%
        left: 0
        top: 0
        transition: .25s filter ease-in-out
        &::after
          position: absolute
          content: ''
          width: 100%
          height: 100%
          left: 0
          top: 0
          display: inline-block
          background-color: $secondary-bg-color
          opacity: 0
          transition: $animation-duration opacity ease-in-out
      &__picture
        width: 100%
        height: 100%
        img, source
          width: 100%
          height: 100%
          max-width: 100%
          max-height: 100%
          object-position: center
          object-fit: cover
      &__description
        position: absolute
        left: 0
        bottom: 0
        z-index: 10
        max-height: calc(3 * 26px + 3rem)
        background-color: darken($secondary-bg-color, 10%)
        color: $secondary-text-color
        padding: 1.5rem 1rem
        width: 100%
        box-sizing: border-box
        transform: translateY(100%)
        transition: $animation-duration all ease-in-out
        p
          margin: 0
          cursor: default
          line-height: 26px
          font-size: 17px
          text-indent: 2ch
          overflow: hidden
          text-overflow: ellipsis
          -webkit-line-clamp: 3
          -ms-line-clamp: 3
          display: -webkit-box
          -webkit-box-orient: vertical
          -ms-box-orient: vertical
